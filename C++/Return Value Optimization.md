# Return Value Optimization

よくRVOと略されるやつ



## RVO is 何

返り値に最適化がかかってコピーコストが発生しなくなること



そも、コピーコストでなにが大部分を占めているのかといえば、メモリの確保（たぶんそうだったはず）

値だけを、返り値の入るアドレスに格納しておけばその分のコストが必要なくなるよってやつ



参考

- https://gup.monster/entry/2020/07/22/014904



まぁ、引数に渡すときにコピーコストがかかるので、巨大な配列のときはそもそも副作用もりもりで返り値がないようになっちゃうんだろうなぁというのがある



https://cpprefjp.github.io/lang/cpp17/guaranteed_copy_elision.html

これを見るにどうやらC++17からっぽい？